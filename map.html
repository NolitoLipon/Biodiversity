<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Interactive Map - Philippines Biodiversity</title>

<style>
:root{
    --green:#0d5e3d;
}

/* GENERAL */
body{
    margin:0;
    font-family: Arial, Helvetica, sans-serif;
    padding-top:60px;
    color:white;
}

/* NAV BAR */
#navbar{
    width:100%;
    background:#0d5e3d;
    padding:12px;
    display:flex;
    justify-content:center;
    gap:25px;
    position:fixed;
    top:0;
    left:0;
    z-index:2000;
}
#navbar a{
    color:white;
    font-weight:bold;
    text-decoration:none;
}

/* BACKGROUND VIDEO */
#bgVideo{
    position:fixed;
    right:0;
    bottom:0;
    min-width:100%;
    min-height:100%;
    z-index:-1;
    object-fit:cover;
}

/* HEADER */
header{
    text-align:center;
    font-size:25px;
    color:white;
    font-weight:bold;
    text-shadow:1px 1px 3px black;
    margin-bottom:20px;
}

/* MAIN ROW */
#mainRow{
    width:92%;
    max-width:1200px;
    margin:0 auto;
    display:flex;
    justify-content:center;
}

/* MINI MAP */
#miniMap{
    border:3px solid var(--green);
    border-radius:10px;
    padding:10px;
    background:white;
    position:relative;
    cursor:pointer;
}
#miniMap img{
    width:580px;
    border-radius:10px;
}

/* PINS */
.pin{
    width:12px;
    height:12px;
    background:#27ae60;
    position:absolute;
    border-radius:50%;
    border:2px solid white;
    cursor:pointer;
}

/* SIDEBAR BOXES */
#speciesBox, #infoBox{
    width:50%;
    background:rgba(255,255,255,0.5);
    color:black;
    padding:15px;
    border-radius:10px;
    backdrop-filter:blur(4px);
}

/* LAYOUT FOR BOXES */
#boxRow{
    width:92%;
    max-width:1200px;
    margin:25px auto;
    display:flex;
    gap:20px;
}

/* SPECIES CARDS */
.species-card{
    background:white;
    color:black;
    padding:10px;
    border-radius:8px;
    display:flex;
    gap:12px;
    margin-bottom:10px;
    cursor:pointer;
}
.species-card img{
    width:55px;
    height:55px;
    border-radius:5px;
    object-fit:cover;
}

/* PIN POPUP */
#pinPopup{
    display:none;
    position:fixed;
    top:100px;
    left:50%;
    transform:translateX(-50%);
    width:300px;
    background:white;
    color:black;
    padding:12px;
    border-radius:10px;
    z-index:5000;
    box-shadow:0 10px 30px rgba(0,0,0,0.3);
}
#pinPopup img{
    width:100%;
    height:150px;
    object-fit:cover;
    border-radius:6px;
}

/* SPECIES POPUP */
#speciesPopup{
    display:none;
    position:fixed;
    top:100px;
    left:50%;
    transform:translateX(-50%);
    width:300px;
    background:white;
    color:black;
    padding:12px;
    border-radius:10px;
    z-index:5000;
    box-shadow:0 10px 30px rgba(0,0,0,0.3);
}
#speciesPopup img{
    width:100%;
    height:150px;
    object-fit:cover;
    border-radius:6px;
}

/* LARGE MAP MODAL */
#mapModal{
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.65);
    justify-content:center;
    align-items:center;
    z-index:3000;
}
#mapModal .panel{
    background:white;
    padding:10px;
    border-radius:10px;
    position:relative;
    width:80%;
    max-width:450px;
}
#mapModal img{
    width:100%;
    border-radius:10px;
}
.closeMapBtn{
    position:absolute;
    right:15px;
    top:10px;
    cursor:pointer;
    font-size:20px;
}
</style>
</head>
<body>

<!-- BACKGROUND VIDEO -->
<video autoplay muted loop id="bgVideo">
    <source src="https://v1.pinimg.com/videos/mc/720p/b6/86/58/b686586d54c23405078766ba8f59c51e.mp4" type="video/mp4">
</video>

<!-- NAVBAR -->
<nav id="navbar">
    <a href="index.html">HOME</a>
    <a href="threatsimpact.html">THREATS</a>
    <a href="solutions.html">SOLUTION</a>
    <a href="map.html">DISCOVER</a>
    <a href="discover.html">LEARNING ACTIVITIES</a>
</nav>

<header>Interactive Map of the Philippines — Biodiversity Hotspot</header>

<!-- MINI MAP -->
<div id="mainRow">
    <div id="miniMap" onclick="openMapModal()">
        <img src="https://i.pinimg.com/1200x/3d/9a/ce/3d9acebd20014ebb83381ade09ce31db.jpg">

        <!-- ALL MINI PINS -->
        <div class="pin" style="top:66%; left:70%;" onclick="openPin(event,'Bohol')"></div>
        <div class="pin" style="top:50%; left:38%;" onclick="openPin(event,'Mindoro')"></div>
        <div class="pin" style="top:89%; left:80%;" onclick="openPin(event,'Davao Oriental Crocodile')"></div>
        <div class="pin" style="top:66%; left:64%;" onclick="openPin(event,'Cebu')"></div>
        <div class="pin" style="top:25%; left:36%;" onclick="openPin(event,'Baguio')"></div>
        <div class="pin" style="top:68%; left:19%;" onclick="openPin(event,'Palawan')"></div>
        <div class="pin" style="top:85%; left:85%;" onclick="openPin(event,'Davao')"></div>
        <div class="pin" style="top:59%; left:75%;" onclick="openPin(event,'Leyte')"></div>
        <div class="pin" style="top:72%; left:85%;" onclick="openPin(event,'Siargao')"></div>
    </div>
</div>

<!-- TWO BOXES -->
<div id="boxRow">

    <!-- SPECIES BOX -->
    <div id="speciesBox">
        <h2>Species Profile</h2>

        <div class="species-card" onclick="openSpecies(
            'Land',
            'Philippine Tarsier',
            'World\'s smallest primate. Endemic to the Philippines. Known for its huge eyes and nocturnal habits. It communicates using ultrasonic calls. Sensitive to habitat disturbance and requires dense forest canopy for survival.',
            'https://i.pinimg.com/736x/b6/de/3b/b6de3b0c97f2741ba9e793d4c47dde39.jpg'
        )">
            <img src="https://i.pinimg.com/736x/4c/68/22/4c6822b4e83548a1c9a415d520b32d19.jpg">
            Land
        </div>

        <div class="species-card" onclick="openSpecies(
            'Water',
            'Tamaraw',
            'Endemic dwarf buffalo found only in Mindoro. Critically endangered due to hunting and habitat loss. Prefers grasslands and forested valleys. Local studies show successful population recovery in protected areas.',
            'https://www.shutterstock.com/image-photo/water-buffalo-bull-tamaraw-two-260nw-2309326753.jpg'
        )">
            <img src="https://t4.ftcdn.net/jpg/04/64/54/23/360_F_464542322_CaVd4Avs9p9XaGOWsErmg1528s5qBMnu.jpg">
            Water
        </div>

        <div class="species-card" onclick="openSpecies(
            'Air',
            'Philippine Eagle',
            'Critically endangered national bird of the Philippines. Can have a wingspan up to 7 feet. Feeds mainly on monkeys and flying lemurs. Requires large forest territories to hunt and breed. Local conservation programs include nest monitoring and forest protection.',
            'https://www.discoverthephilippines.com/wp-content/uploads/2023/07/philippine-eagle.jpg'
        )">
            <img src="https://i.pinimg.com/1200x/e4/17/2d/e4172de994748caa67f5ac885d20b351.jpg">
            Air
        </div>

        <div class="species-card" onclick="openSpecies(
            'Coral',
            'Coral Reef',
            'Supports diverse marine species including fish, mollusks, and crustaceans. Provides coastal protection from waves and storms. Sensitive to water temperature changes and pollution. Local studies in Apo Reef show community-based management can improve reef health.',
            'https://i.pinimg.com/1200x/db/15/31/db15317d845dbe9a819f098a5b3a5bca.jpg'
        )">
            <img src="https://i.pinimg.com/1200x/db/15/31/db15317d845dbe9a819f098a5b3a5bca.jpg">
            Coral
        </div>
    </div>

    <!-- INFO BOX -->
    <div id="infoBox">
        <h2>Information</h2>
        <h3 id="infoTitle">Select a pin</h3>
        <p id="infoText">Information will appear here.</p>
    </div>
</div>

<!-- PIN POPUP -->
<div id="pinPopup">
    <span style="float:right; cursor:pointer;" onclick="closePin()">✖</span>
    <h3 id="pinTitle"></h3>
    <img id="pinImg">
    <p id="pinSci"></p>
    <a id="discoverMore" style="color:green; cursor:pointer;">Discover More →</a>
</div>

<!-- SPECIES POPUP -->
<div id="speciesPopup">
    <span style="float:right; cursor:pointer;" onclick="closeSpecies()">✖</span>
    <h3 id="speciesTitle"></h3>
    <img id="speciesImg">
    <p id="speciesDesc"></p>
</div>

<!-- LARGE MAP -->
<div id="mapModal" onclick="closeModalOutside(event)">
    <div class="panel">
        <span class="closeMapBtn" onclick="closeMap()">✖</span>
        <div style="position:relative;">
            <img src="https://i.pinimg.com/1200x/3d/9a/ce/3d9acebd20014ebb83381ade09ce31db.jpg">

            <!-- PINS AGAIN FOR LARGE MAP -->
            <div class="pin" style="top:66%; left:70%;" onclick="openPin(event,'Bohol')"></div>
            <div class="pin" style="top:50%; left:38%;" onclick="openPin(event,'Mindoro')"></div>
            <div class="pin" style="top:89%; left:80%;" onclick="openPin(event,'Davao Oriental Crocodile')"></div>
            <div class="pin" style="top:66%; left:64%;" onclick="openPin(event,'Cebu')"></div>
            <div class="pin" style="top:25%; left:36%;" onclick="openPin(event,'Baguio')"></div>
            <div class="pin" style="top:68%; left:19%;" onclick="openPin(event,'Palawan')"></div>
            <div class="pin" style="top:85%; left:85%;" onclick="openPin(event,'Davao')"></div>
            <div class="pin" style="top:59%; left:75%;" onclick="openPin(event,'Leyte')"></div>
            <div class="pin" style="top:72%; left:85%;" onclick="openPin(event,'Siargao')"></div>
        </div>
    </div>
</div>

<script>
// DATA FOR PINS
const pinData = {
    "Palawan": {
        sci: "Polyplectron napoleonis",
        info: "Endemic to Palawan, critically endangered due to habitat loss. Forest fragmentation is a major threat. Found mostly in lowland and primary forests; sensitive to human disturbance. Conservation programs include habitat protection and community-based eco-tourism.",
        img: "https://static.inaturalist.org/photos/45924388/large.jpg"
    },
    "Mindoro": {
        sci: "Bubalus mindorensis",
        info: "Endemic dwarf buffalo found only in Mindoro. Critically endangered due to hunting and habitat degradation. Protected areas like Mounts Iglit-Baco show population recovery when poaching is controlled. Conservation includes anti-poaching patrols and community education programs.",
        img: "https://upload.wikimedia.org/wikipedia/commons/0/0b/Bubalus_mindorensis_by_Gregg_Yan_01.jpg"
    },
    "Bohol": {
        sci: "Carlito syrichta",
        info: "World's smallest primate, endemic to the Philippines. Sensitive to noise and light pollution. Found in dense forests in Corella and Loboc. Conservation includes forest preservation and eco-tourism education programs.",
        img: "https://i.pinimg.com/736x/b6/de/3b/b6de3b0c97f2741ba9e793d4c47dde39.jpg"
    },
    "Cebu": {
        sci: "Rhincodon typus",
        info: "Found in Oslob, Cebu; gentle filter-feeders. Tourism feeding can alter migration patterns. Community-managed tourism projects aim to balance conservation with livelihood.",
        img: "https://t4.ftcdn.net/jpg/12/60/97/01/360_F_1260970160_MoxwoUGbPsFC2rPVxD3nTqHZKInwhRHU.jpg"
    },
    "Davao Oriental Crocodile": {
        sci: "Crocodylus porosus",
        info: "Largest living reptile, found in rivers and coastal mangroves. Population recovery in protected mangrove areas after hunting bans. Conservation involves habitat protection, public education, and conflict mitigation.",
        img: "https://tourism.davaocity.gov.ph/wp-content/uploads/2018/10/Davao-Crocodile-Park-2.jpg"
    },
    "Davao": {
        sci: "Pithecophaga jefferyi",
        info: "Critically endangered national bird of the Philippines. Nest monitoring and forest protection are key to survival. Community-based reforestation programs have helped reduce deforestation in Mindanao.",
        img: "https://www.discoverthephilippines.com/wp-content/uploads/2023/07/philippine-eagle.jpg"
    },
    "Leyte": {
        sci: "Sus cebifrons",
        info: "Endangered pig species in Leyte and Samar. Hunting and habitat loss are primary threats. Protected areas like Mahagnao Volcano Natural Park are key sites for conservation.",
        img: "https://i.pinimg.com/1200x/1c/9f/03/1c9f03c5e56b14bb5f11dbcbc9af5d53.jpg"
    },
    "Siargao": {
        sci: "Birgus latro",
        info: "Largest terrestrial arthropod; omnivorous, feeding on coconuts and fruits. Population decline due to hunting and coastal habitat destruction. Conservation includes marine protected areas and local awareness campaigns.",
        img: "https://upload.wikimedia.org/wikipedia/commons/0/0a/Coconut_Crab_Birgus_latro.jpg"
    },
    "Baguio": {
        sci: "Viverra tangalunga",
        info: "Nocturnal carnivore in northern Luzon forests. Helps control rodent populations in agroforestry areas. Urban expansion in Baguio threatens their population.",
        img: "https://upload.wikimedia.org/wikipedia/commons/5/56/Malay_civet.jpg"
    }
};

// PIN FUNCTIONS
function openPin(e,name){
    e.stopPropagation();
    const data = pinData[name];
    if(data){
        document.getElementById("pinTitle").innerText = name;
        document.getElementById("pinSci").innerText = data.sci;
        document.getElementById("pinImg").src = data.img;
        document.getElementById("pinPopup").style.display = "block";

        document.getElementById("discoverMore").onclick = function(){
            document.getElementById("infoTitle").innerText = name;
            document.getElementById("infoText").innerText = data.info;
            closePin();
        };
    }
}

function closePin(){ document.getElementById("pinPopup").style.display="none"; }

// SPECIES FUNCTIONS
function openSpecies(type,name,desc,img){
    document.getElementById("speciesTitle").innerText = name + " (" + type + ")";
    document.getElementById("speciesImg").src = img;
    document.getElementById("speciesDesc").innerText = desc;
    document.getElementById("speciesPopup").style.display = "block";
}

function closeSpecies(){ document.getElementById("speciesPopup").style.display="none"; }

// MAP MODAL FUNCTIONS
function openMapModal(){ document.getElementById("mapModal").style.display="flex"; }
function closeMap(){ document.getElementById("mapModal").style.display="none"; }
function closeModalOutside(e){ if(e.target.id === "mapModal"){ closeMap(); } }
</script>

</body>
</html>
